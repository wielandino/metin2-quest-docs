"use strict";(globalThis.webpackChunkmetin2_quest_docs=globalThis.webpackChunkmetin2_quest_docs||[]).push([[86],{6889(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>o});var r=t(4848),i=t(8453);const a={sidebar_position:1},l="Player API (pc.*)",s={id:"api-reference/player-api",title:"Player API (pc.*)",description:"Character Information",source:"@site/docs/api-reference/player-api.md",sourceDirName:"api-reference",slug:"/api-reference/player-api",permalink:"/metin2-quest-docs/api-reference/player-api",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Core Concepts",permalink:"/metin2-quest-docs/core-concepts"},next:{title:"NPC API (npc.*)",permalink:"/metin2-quest-docs/api-reference/npc-api"}},c={},o=[{value:"Character Information",id:"character-information",level:2},{value:"Stats &amp; Attributes",id:"stats--attributes",level:2},{value:"Currency (Yang)",id:"currency-yang",level:2},{value:"Experience",id:"experience",level:2},{value:"Items",id:"items",level:2},{value:"Quest Flags (Persistent Storage)",id:"quest-flags-persistent-storage",level:2},{value:"Teleportation",id:"teleportation",level:2},{value:"Skills",id:"skills",level:2},{value:"Guild",id:"guild",level:2},{value:"State Checks",id:"state-checks",level:2},{value:"Refinement (Item Upgrading)",id:"refinement-item-upgrading",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"player-api-pc",children:"Player API (pc.*)"}),"\n",(0,r.jsx)(n.h2,{id:"character-information",children:"Character Information"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Basic Info\npc.get_name()           -- Returns: String - Character name\npc.get_level()          -- Returns: Number - Current level\npc.get_next_exp()       -- Returns: Number - EXP needed for next level\npc.get_exp()            -- Returns: Number - Current EXP\npc.get_player_id()      -- Returns: Number - Unique player ID\npc.get_account_id()     -- Returns: Number - Account ID\n\n-- Job/Class\npc.get_job()            -- Returns: Number (0-4: Warrior, Ninja, Sura, Shaman, Lycan)\npc.job                  -- Alternative syntax\npc.get_race()           -- Returns: Number (0-7: race variations)\npc.get_sex()            -- Returns: Number (0=Male, 1=Female)\n\n-- Location\npc.get_empire()         -- Returns: Number (1=Shinsoo, 2=Chunjo, 3=Jinno)\npc.empire               -- Alternative syntax\npc.get_map_index()      -- Returns: Number - Current map index\npc.get_x()              -- Returns: Number - X coordinate (pixels)\npc.get_y()              -- Returns: Number - Y coordinate (pixels)\n\n-- GM Check\npc.is_gm()              -- Returns: Boolean - Is GM?\n"})}),"\n",(0,r.jsx)(n.h2,{id:"stats--attributes",children:"Stats & Attributes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- HP/MP\npc.get_hp()             -- Returns: Number - Current HP\npc.get_max_hp()         -- Returns: Number - Maximum HP\npc.get_sp()             -- Returns: Number - Current MP/SP\npc.get_max_sp()         -- Returns: Number - Maximum MP/SP\n\n-- Base Stats\npc.get_st()             -- Returns: Number - Strength (STR)\npc.get_dx()             -- Returns: Number - Dexterity (DEX)\npc.get_iq()             -- Returns: Number - Intelligence (INT)\npc.get_ht()             -- Returns: Number - Vitality (VIT)\n\n-- Modify HP/MP\npc.change_hp(amount)    -- Modify HP (+/-)\npc.change_sp(amount)    -- Modify MP (+/-)\npc.heal_hp()            -- Full HP restore\npc.heal_sp()            -- Full MP restore\n\n-- Example\nif pc.get_hp() < pc.get_max_hp() / 2 then\n    pc.heal_hp()\n    chat("HP restored!")\nend\n'})}),"\n",(0,r.jsx)(n.h2,{id:"currency-yang",children:"Currency (Yang)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Get Yang\npc.get_gold()           -- Returns: Number - Current yang\n\n-- Modify Yang\npc.change_gold(amount)  -- Add/subtract yang\npc.change_money(amount) -- Alternative (same function)\npc.changegold(amount)   -- Alternative (same function)\n\n-- Example\nif pc.get_gold() >= 1000000 then\n    pc.change_gold(-1000000)\n    chat("Spent 1 million yang!")\nelse\n    chat("Not enough yang!")\nend\n'})}),"\n",(0,r.jsx)(n.h2,{id:"experience",children:"Experience"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Give EXP\npc.give_exp(amount)         -- Give EXP (raw)\npc.give_exp2(amount)        -- Give EXP (with bonuses/buffs)\n\n-- Percentage of required EXP\npc.give_exp_perc(percent, min, max)\n-- percent: % of required EXP\n-- min: minimum EXP to give\n-- max: maximum EXP to give\n\n-- Example\npc.give_exp2(100000)  -- 100k EXP with buffs\npc.give_exp_perc(10, 0, 1000000)  -- 10% of required, max 1M\n"})}),"\n",(0,r.jsx)(n.h2,{id:"items",children:"Items"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Give Items\npc.give_item2(vnum, count)      -- Give item (preferred method)\npc.give_item(vnum, count)       -- Deprecated, use give_item2\n\n-- Count Items\npc.count_item(vnum)             -- Returns: Number - Item count in inventory\npc.countitem(vnum)              -- Alternative (same function)\n\n-- Remove Items\npc.remove_item(vnum, count)     -- Remove items from inventory\n\n-- Equipment Check\npc.get_wear(position)           -- Returns: Number - Item vnum in slot (0 if empty)\n\n-- Equipment Positions:\n-- 0 = Body (Armor)\n-- 1 = Head (Helmet)\n-- 2 = Shoes\n-- 3 = Wrist (Bracelet)\n-- 4 = Weapon\n-- 5 = Neck (Necklace)\n-- 6 = Ear (Earrings)\n-- 7 = Shield\n\n-- Examples\nif pc.count_item(30001) >= 10 then\n    pc.remove_item(30001, 10)\n    pc.give_item2(30002, 1)\n    chat("Items exchanged!")\nend\n\nlocal weapon = pc.get_wear(4)\nif weapon == 0 then\n    chat("No weapon equipped!")\nend\n'})}),"\n",(0,r.jsx)(n.h2,{id:"quest-flags-persistent-storage",children:"Quest Flags (Persistent Storage)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Set Flag\npc.setqf("flag_name", value)    -- Store number\npc.setq("flag_name", value)     -- Alternative (less common)\n\n-- Get Flag\npc.getqf("flag_name")           -- Returns: Number (0 if not set)\npc.getq("flag_name")            -- Alternative\n\n-- Delete Flag\npc.delqf("flag_name")           -- Remove flag\n\n-- Examples\n-- Daily quest reset\nlocal today = os.date("%Y%m%d")\nlocal last_reset = pc.getqf("last_reset")\n\nif tonumber(today) ~= last_reset then\n    pc.setqf("daily_kills", 0)\n    pc.setqf("last_reset", tonumber(today))\nend\n\n-- Kill counter\nlocal kills = pc.getqf("monster_kills")\npc.setqf("monster_kills", kills + 1)\n\n-- Completion flag\npc.setqf("quest_complete", 1)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"teleportation",children:"Teleportation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Warp (same map)\npc.warp(x, y)               -- Teleport to coordinates (pixels * 100)\n\n-- Special warps\npc.warp_to_village()        -- Return to village\npc.warp_exit()              -- Exit dungeon\n\n-- Example\npc.warp(100*100, 200*100)   -- Teleport to (100, 200) in pixels\npc.warp_to_village()         -- Safe return\n"})}),"\n",(0,r.jsx)(n.h2,{id:"skills",children:"Skills"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Skill Books\npc.give_skill_book(skill_id, chance, required_level)\n-- skill_id: Skill number\n-- chance: Success chance (0-100)\n-- required_level: Minimum level to use\n\n-- Get Skill Level\npc.get_skill_level(skill_id)    -- Returns: Number - Skill level\n\n-- Skill Group\npc.get_skill_group()             -- Returns: Number (1 or 2)\npc.set_skill_group(group)        -- Set skill group (1 or 2)\n\n-- Example\npc.give_skill_book(1, 100, 20)  -- 100% success, level 20+ required\n"})}),"\n",(0,r.jsx)(n.h2,{id:"guild",children:"Guild"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'-- Guild Membership\npc.hasguild()               -- Returns: Boolean - Has guild?\npc.get_guild()              -- Returns: Number - Guild ID (0 if none)\n\n-- Guild Leadership\npc.isguildmaster()          -- Returns: Boolean - Is guild leader?\npc.is_guild_master()        -- Alternative syntax\n\n-- Guild Actions\npc.remove_from_guild()      -- Leave guild\npc.destroy_guild()          -- Disband guild (leader only)\n\n-- Example\nif not pc.hasguild() then\n    chat("You need to be in a guild!")\n    return\nend\n\nif pc.isguildmaster() then\n    say("Guild leader menu...")\nend\n'})}),"\n",(0,r.jsx)(n.h2,{id:"state-checks",children:"State Checks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Dungeon\npc.in_dungeon()             -- Returns: Boolean - In dungeon?\n\n-- Combat/Actions\npc.is_polymorphed()         -- Returns: Boolean - Transformed?\npc.is_dead()                -- Returns: Boolean - Dead?\npc.is_riding()              -- Returns: Boolean - On horse?\npc.is_mining()              -- Returns: Boolean - Mining?\n\n-- Proximity\npc.is_near_vid(vid, distance) -- Returns: Boolean - Near VID?\n\n-- War\npc.get_war_map()            -- Returns: Number - War map index\n\n-- Example\nif pc.is_dead() then\n    return  -- Don't run quest if dead\nend\n\nif pc.in_dungeon() then\n    chat(\"You're in a dungeon!\")\nend\n"})}),"\n",(0,r.jsx)(n.h2,{id:"refinement-item-upgrading",children:"Refinement (Item Upgrading)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"-- Ore/Diamond Refinement\npc.ore_refine(cost, success_pct, geiststein_cell)\npc.diamond_refine(cost, success_pct)\n\n-- Returns: Boolean - Success or failure\n\n-- Used in guild buildings for item refinement\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>s});var r=t(6540);const i={},a=r.createContext(i);function l(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);