"use strict";(globalThis.webpackChunkmetin2_quest_docs=globalThis.webpackChunkmetin2_quest_docs||[]).push([[31],{8021(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>r});var s=t(4848),l=t(8453);const a={sidebar_position:4},i="User Interface",o={id:"user-interface",title:"User Interface",description:"Dialog System",source:"@site/docs/user-interface.md",sourceDirName:".",slug:"/user-interface",permalink:"/metin2-quest-docs/user-interface",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Other APIs",permalink:"/metin2-quest-docs/api-reference/other-apis"},next:{title:"Advanced Topics",permalink:"/metin2-quest-docs/advanced-topics"}},c={},r=[{value:"Dialog System",id:"dialog-system",level:2},{value:"Say Commands",id:"say-commands",level:3},{value:"Multi-Page Dialogs",id:"multi-page-dialogs",level:3},{value:"Selection Menus",id:"selection-menus",level:3},{value:"Table-Based Selection",id:"table-based-selection",level:3},{value:"Input",id:"input",level:3},{value:"Window Control",id:"window-control",level:3},{value:"Chat &amp; Notifications",id:"chat--notifications",level:2},{value:"Chat Messages",id:"chat-messages",level:3},{value:"Server-Wide Notifications",id:"server-wide-notifications",level:3},{value:"Formatting",id:"formatting",level:3},{value:"Letter &amp; Button System",id:"letter--button-system",level:2},{value:"Quest Button",id:"quest-button",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"Special Windows",id:"special-windows",level:2},{value:"Item Selection",id:"item-selection",level:3},{value:"Shop System",id:"shop-system",level:3},{value:"Storage Systems",id:"storage-systems",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"user-interface",children:"User Interface"}),"\n",(0,s.jsx)(n.h2,{id:"dialog-system",children:"Dialog System"}),"\n",(0,s.jsx)(n.h3,{id:"say-commands",children:"Say Commands"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Dialog Text\nsay(text)                   -- Add text line to dialog\nsay_title(title)            -- Set dialog title\nsay_reward(text)            -- Green reward text\nsay_item(name, vnum, count) -- Display item icon\n\n-- Spacing\nsay("")                     -- Empty line\n\n-- Example\nsay_title("Quest NPC:")\nsay("")\nsay("Hello, adventurer!")\nsay("I have a quest for you.")\nsay("")\nsay_reward("Reward: 100,000 Yang")\nsay_item("Sword", 30001, 1)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"multi-page-dialogs",children:"Multi-Page Dialogs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- wait() creates next page\nwhen 9006.click begin\n    say_title("Page 1:")\n    say("This is the first page.")\n    wait()  -- Next page\n    \n    say_title("Page 2:")\n    say("This is the second page.")\n    wait()\n    \n    say_title("Page 3:")\n    say("This is the last page.")\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"selection-menus",children:"Selection Menus"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Simple Select\nselect("Option 1", "Option 2", "Option 3")\n-- Returns: Number (1, 2, 3, ...)\n\n-- Example\nlocal s = select("Accept Quest", "Decline", "Ask Questions")\n\nif s == 1 then\n    chat("Quest accepted!")\nelseif s == 2 then\n    chat("Quest declined.")\nelse\n    say("What would you like to know?")\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"table-based-selection",children:"Table-Based Selection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Select from table\nselect_table(table, cancel_text)\n\n-- Example 1: Simple List\nlocal options = {"Warrior", "Ninja", "Sura", "Shaman"}\nlocal choice = select_table(options, "Cancel")\n\nif choice == #options + 1 then\n    return  -- Cancel was selected\nend\n\nchat("You selected: "..options[choice])\n\n-- Example 2: Complex Data\nlocal items = {\n    {"Sword", 30001, 10000},\n    {"Armor", 11209, 50000},\n    {"Helmet", 12209, 25000}\n}\n\nlocal menu = {}\nfor i, data in ipairs(items) do\n    table.insert(menu, data[1].." - "..data[3].." Yang")\nend\n\nlocal s = select_table(menu, "Cancel")\n\nif s <= #items then\n    local selected = items[s]\n    say("You selected: "..selected[1])\n    say_item(selected[1], selected[2], 1)\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"input",children:"Input"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Text Input\ninput()                     -- Returns: String - User input\n\n-- Example\nsay("Enter your favorite color:")\nlocal color = input()\nchat("Your favorite color is: "..color)\n\n-- Numeric Input\nsay("How many items do you want?")\nlocal count_str = input()\nlocal count = tonumber(count_str)\n\nif count and count > 0 then\n    pc.give_item2(30001, count)\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"window-control",children:"Window Control"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Set Window Skin\nsetskin(NOWINDOW)       -- Hide dialog window\n\n-- Used after opening shops, storage, etc.\nwhen 9009.chat."Shop" begin\n    npc.open_shop()\n    setskin(NOWINDOW)  -- Hide quest window\nend\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"chat--notifications",children:"Chat & Notifications"}),"\n",(0,s.jsx)(n.h3,{id:"chat-messages",children:"Chat Messages"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Regular Chat\nchat(text)              -- White text in chat\n\n-- System Chat\nsyschat(text)           -- Yellow system message\n\n-- Examples\nchat("Regular message")\nsyschat("System notification")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"server-wide-notifications",children:"Server-Wide Notifications"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Notice (top of screen)\nnotice(text)            -- Server-wide notice\nnotice_all(text)        -- Alternative (same function)\n\n-- Shout (larger area)\nshout(text)             -- Larger range than chat\n\n-- Examples\nnotice("Server event starting!")\nnotice_all("Maintenance in 10 minutes!")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"formatting",children:"Formatting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- String Concatenation\nchat("Your level: "..pc.get_level())\n\n-- Multiple Values\nlocal name = pc.get_name()\nlocal level = pc.get_level()\nchat(name.." is level "..level)\n\n-- String Formatting\nsay(string.format("Cost: %s Yang", 1000000))\nsay(string.format("Level %d required", 50))\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"letter--button-system",children:"Letter & Button System"}),"\n",(0,s.jsx)(n.h3,{id:"quest-button",children:"Quest Button"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Create Quest Button\nsend_letter(text)           -- Create clickable quest button\nmakequestbutton(text)       -- Alternative\n\n-- Remove Button (automatically removed when quest completes)\n-- Use set_state(__COMPLETE__) to remove\n\n-- Example\nwhen letter begin\n    send_letter("Daily Quest Available")\nend\n\nwhen button begin\n    say_title("Daily Quest:")\n    say("Complete today\'s challenge!")\n    \n    if select("Accept", "Decline") == 1 then\n        set_state(quest_active)\n    else\n        set_state(__COMPLETE__)  -- Remove button\n    end\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'quest daily_quest begin\n    state start begin\n        -- Create button on login\n        when login begin\n            local completed = pc.getqf("daily_complete")\n            \n            if completed == 0 then\n                send_letter("Daily Quest")\n            end\n        end\n        \n        -- Button clicked\n        when button begin\n            say_title("Daily Quest:")\n            \n            local kills = pc.getqf("daily_kills")\n            say("Progress: "..kills.."/50 monsters")\n            \n            if kills >= 50 then\n                if select("Claim Reward", "Later") == 1 then\n                    pc.change_gold(1000000)\n                    pc.setqf("daily_complete", 1)\n                    set_state(__COMPLETE__)  -- Remove button\n                end\n            end\n        end\n        \n        -- Count kills\n        when kill begin\n            local kills = pc.getqf("daily_kills") + 1\n            pc.setqf("daily_kills", kills)\n            \n            if kills == 50 then\n                syschat("Daily quest complete! Check quest button!")\n            end\n        end\n    end\n    \n    state __COMPLETE__ begin\n    end\nend\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"special-windows",children:"Special Windows"}),"\n",(0,s.jsx)(n.h3,{id:"item-selection",children:"Item Selection"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Select Item from Inventory\nselect_item()           -- Returns: Number - Cell position (0 if cancelled)\n\n-- Example (Refinement)\nsay("Select a spirit stone:")\nlocal cell = select_item()\n\nif cell == 0 then\n    say("Cancelled.")\n    return\nend\n\nif item.select_cell(cell) then\n    local vnum = item.get_vnum()\n    chat("You selected item: "..vnum)\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"shop-system",children:"Shop System"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Open NPC Shop\nnpc.open_shop()\n\n-- Must use setskin(NOWINDOW) after\nwhen 9009.chat."Shop" begin\n    npc.open_shop()\n    setskin(NOWINDOW)\nend\n'})}),"\n",(0,s.jsx)(n.h3,{id:"storage-systems",children:"Storage Systems"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-lua",children:'-- Warehouse\ngame.open_safebox()\n\n-- Item Mall Storage\ngame.open_mall()\n\n-- Example\nwhen 9005.chat."Storage" begin\n    local s = select("Warehouse", "Mall", "Cancel")\n    \n    if s == 1 then\n        game.open_safebox()\n        setskin(NOWINDOW)\n    elseif s == 2 then\n        game.open_mall()\n        setskin(NOWINDOW)\n    end\nend\n'})})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>i,x:()=>o});var s=t(6540);const l={},a=s.createContext(l);function i(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);