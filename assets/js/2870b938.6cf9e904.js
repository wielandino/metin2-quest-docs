"use strict";(globalThis.webpackChunkmetin2_quest_docs=globalThis.webpackChunkmetin2_quest_docs||[]).push([[738],{662(e,n,a){a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=a(4848),i=a(8453);const s={sidebar_position:5},r="Game API (game.*)",o={id:"api-reference/game-api",title:"Game API (game.*)",description:"Server-Wide Functions",source:"@site/docs/api-reference/game-api.md",sourceDirName:"api-reference",slug:"/api-reference/game-api",permalink:"/metin2-quest-docs/api-reference/game-api",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Guild API (guild.*)",permalink:"/metin2-quest-docs/api-reference/guild-api"},next:{title:"Party API (party.*)",permalink:"/metin2-quest-docs/api-reference/party-api"}},l={},c=[{value:"Server-Wide Functions",id:"server-wide-functions",level:2},{value:"Item Drops",id:"item-drops",level:2},{value:"Warehouse/Storage",id:"warehousestorage",level:2},{value:"Guild Functions",id:"guild-functions",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"game-api-game",children:"Game API (game.*)"}),"\n",(0,t.jsx)(n.h2,{id:"server-wide-functions",children:"Server-Wide Functions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Event Flags\ngame.get_event_flag(name)       -- Returns: Number - Flag value\ngame.set_event_flag(name, value) -- Set event flag\n\n-- Example\nif game.get_event_flag("double_exp") == 1 then\n    chat("Double EXP event active!")\nend\n'})}),"\n",(0,t.jsx)(n.h2,{id:"item-drops",children:"Item Drops"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:"-- Drop Item\ngame.drop_item(vnum, count)     -- Drop item on ground\ngame.drop_item_with_ownership(vnum, count, seconds)\n-- Drop with ownership protection\n\n-- Example\ngame.drop_item(30001, 1)  -- Drop sword\n"})}),"\n",(0,t.jsx)(n.h2,{id:"warehousestorage",children:"Warehouse/Storage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Safebox (Warehouse)\ngame.set_safebox_level(level)   -- Set warehouse size (1-3)\ngame.open_safebox()             -- Open warehouse\ngame.open_mall()                -- Open item mall storage\n\n-- Example\nwhen 9005.click begin\n    if pc.getqf("safebox_opened") == 0 then\n        pc.change_gold(-500)\n        game.set_safebox_level(1)\n        pc.setqf("safebox_opened", 1)\n    end\n    \n    say("Open warehouse?")\n    local s = select("Warehouse", "Item Mall", "Cancel")\n    if s == 1 then\n        game.open_safebox()\n        setskin(NOWINDOW)\n    elseif s == 2 then\n        game.open_mall()\n        setskin(NOWINDOW)\n    end\nend\n'})}),"\n",(0,t.jsx)(n.h2,{id:"guild-functions",children:"Guild Functions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-lua",children:'-- Request Guild Creation\ngame.request_make_guild()   -- Opens guild creation UI\n\n-- Example\nwhen 11000.chat."Create Guild" begin\n    if pc.get_level() < 40 then\n        say("You need level 40!")\n        return\n    end\n    \n    if pc.get_gold() < 500000 then\n        say("You need 500,000 yang!")\n        return\n    end\n    \n    game.request_make_guild()\nend\n'})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,a){a.d(n,{R:()=>r,x:()=>o});var t=a(6540);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);